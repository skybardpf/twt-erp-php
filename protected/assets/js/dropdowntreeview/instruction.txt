Плагин к TreeVeiw (http://bassistance.de/jquery-plugins/jquery-plugin-treeview/)
   
   
   Загружает и открывает/скрывает выпадающее дерево.
   Дерево может загружаться полностью или подгружаться частями по технологии AJAX в формате HTML в виде маркированного списка.
   
   
   Формат вызова: $(selector).dropdowntreeview(param,option,TreeViewOption)
     где:
     1.  param - параметры в формате JSON для запросов посредством AJAX 
          Пример: attr={'my_id':101, 'parent_id':89} то получим HTTP запрос с параметрами  my_id=101&parent_id=89
            
     2.  option - настройки в формате JSON 
          Возможные настройки:
                    type - string - значения 'post' или 'get' (по умолчанию 'post')
                    url - string -адрес для HTTP запроса дерева (ветки) (по умолчанию текущий адрес)
                    width - string - ширина поля выбора  (по умолчанию по ширине объекта к которому привязывается дерево)
                    height - string - высота поля выбора (по умолчанию задана в CSS)
                    oneclick - выбор и закрытие дерева по одному клику (любое значение)
         Пример: option={'url':'/tree.php','height':'400px'}
      3. TreeViewOption - настройки Treeview (http://docs.jquery.com/Plugins/Treeview/treeview)  
      
                        
      Пример вызова:
            $('#mytree').dropdowntreeview({'my_id':101, 'parent_id':89},{'url':'/tree.php','height':'400px'},{'collapsed':true});                  
            
        в итоге получим HTTP запрос по адресу '/tree.php' с параметрами  my_id=101&parent_id=89 
        на что сервер должен ответить маркированным списком:
        1) в случае загрузки всего дерева полным маркированным списком.
        
    Пример: 
         
        <ul>
          <li>
            <span>Начало дерева</span>
            <ul>
                <li>
                  <span>1 пункт</span>
               </li>
               <li>   
                  <span>2 пункт</span>                
                  <ul>
                    <li>
                        <span>1 подпункт пункта 2</span>
                        <span>2 подпункт пункта 2</span>                      
                        <span>3 подпункт пункта 2</span>                       
                    </li>
                  </ul>
               </li>
               <li>
                  <span>3 пункт</span>                
               </li>   
            </ul>
          </li>
       </ul>   
  
                      
     А в случае загрузки дерева частями :
                                       
         <ul>
          <li my_id='102' parent_id='101'>
            <span>Начало дерева</span>
            <ul class='temp'>
               <li class='temp'></li>
            </ul>                                           
         </li>
        </ul>                                                  
            
    где имена атрибутов тега  <li> равны именам param (параметры в формате JSON для запросов с помощью AJAX  при инициализации дерева).
     Они необходимые для HTTP запроса для загрузки следующей части дерева при разворачивании уже загруженного узла.
    В случае вышеуказанного примера, при разворачивании узла 'Начало дерева' пойдёт HTTP запрос на сервер с именами параметров  
    указанных при инициализации дерева и значениями из одноименных атрибутов тега <li>.
    
    Пример HTTP запроса : my_id=102&parent_id=101
    
    Если пункт списка дерева имеет детей то необходимо добавить HTML конструкцию в тег <li> после тега <SPAN> (как в вышеприведённом примере):
    
            <ul class='temp'>
               <li class='temp'></li>
            </ul>                                           
    
    Соответственно если детей нет то такую конструкцию добавлять не нужно.
    
   При выборе пункта (двойным кликом) или нажатием на кнопку код выбранного тега <span>  переходит к родителю дерева в качестве атрибута 'value'
   атрибуты тега <li> так же переходят родителю.

nsv-ru@ya.ru